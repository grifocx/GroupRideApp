{"error":"z is not defined","details":"ReferenceError: z is not defined\n at <anonymous> (/home/runner/workspace/server/auth.ts:151:25)\n at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)\n at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)\n at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)\n at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)\n at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15\n at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)\n at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)\n at strategy.pass (/home/runner/workspace/node_modules/passport/lib/middleware/authenticate.js:355:9)\n at SessionStrategy.authenticate (/home/runner/workspace/node_modules/passport/lib/strategies/session.js:126:10)\n at attempt (/home/runner/workspace/node_modules/passport/lib/middleware/authenticate.js:378:16)\n at authenticate (/home/runner/workspace/node_modules/passport/lib/middleware/authenticate.js:379:7)\n at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)\n at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)\n at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9\n at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)\n at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)\n at initialize (/home/runner/workspace/node_modules/passport/lib/middleware/initialize.js:98:5)\n at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)\n at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)\n at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9\n at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)\n at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)\n at /home/runner/workspace/node_modules/express-session/index.js:514:7\n at MemoryStore.get (/home/runner/workspace/node_modules/memorystore/lib/memorystore.js:104:23)\n at session (/home/runner/workspace/node_modules/express-session/index.js:493:11)\n at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)\n at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)\n at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9\n at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)\n at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)\n at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)\n at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)\n at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)\n at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9\n at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)\n at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)\n at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5\n at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)\n at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)\n at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)\n at IncomingMessage.emit (node:events:518:28)\n at endReadableNT (node:internal/streams/readable:1698:12)\n at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}

